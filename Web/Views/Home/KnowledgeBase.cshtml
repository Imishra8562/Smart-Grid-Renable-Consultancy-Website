@model Web.Areas.Admin.Model.MasterModel
@{
    ViewBag.Title = "KnowledgeBase";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- ====== Page Title Section (Updated Style) ====== -->
<section class="page-title" style="position:relative; background-image:url('@Url.Content("~/Content/images/background/8.jpg")'); background-size:cover; background-position:center;">

    <div class="auto-container">
        <div class="content text-white py-5" data-aos="fade-down">
            <h1 class="display-5 fw-bold">Knowledge <span class="text-warning">Base</span></h1>
            <ul class="page-breadcrumb list-inline mt-3">

                <li class="list-inline-item">
                    <a href="@Url.Action("Index","Home")" class="text-white text-decoration-none">Home</a>
                </li>
                <li class="list-inline-item text-white">Knowledge Base</li>
            </ul>
        </div>
    </div>
</section>
<!-- Knowledge Base Categories -->
<section class="py-5 bg-light">
    <div class="container">

        @if (Model.List_Knowledge_Base_Category_Obj != null && Model.List_Knowledge_Base_Category_Obj.Count > 0)
        {
            foreach (var category in Model.List_Knowledge_Base_Category_Obj)
            {
                <!-- Category Header -->
                <div class="text-center mb-5">
                    <h2 class="fw-bold text-dark">
                        @category.Category_Name
                    </h2>

                    <div class="mx-auto my-3"style="width:80px;height:3px;background:#dc3545;"></div>

                    <p class="text-muted mx-auto"
                       style="max-width:800px;">
                        @category.Category_Description
                    </p>
                </div>

                <div class="row g-4">

                    @if (Model.List_Knowledge_Base_Business_Obj != null && Model.List_Knowledge_Base_Business_Obj.Count > 0)
                    {
                        var categoryItems = Model.List_Knowledge_Base_Business_Obj.Where(x => x.FK_Knowledge_Base_Category_Id == category.Knowledge_Base_Category_Id).ToList();

                        if (categoryItems.Count > 0)
                        {
                            foreach (var item in categoryItems)
                            {
                                <div class="col-md-6 col-lg-4">
                                    <div class="card kb-card h-100 border-0 shadow-sm">

                                        <!-- Image -->
                                        <div class="position-relative overflow-hidden">
                                            <img src="@Url.Content(item.Knowledge_Base_Image)" class="card-img-top kb-img" alt="@item.Knowledge_Base_Image_Alt_Tag" />
                                            <div class="kb-overlay"></div>
                                        </div>

                                        <!-- Content -->
                                        <div class="card-body d-flex flex-column">
                                            <h5 class="fw-semibold text-dark mb-2">
                                                @item.Knowledge_Base_Name
                                            </h5>

                                            <p class="text-muted small flex-grow-1 kb-desc">
                                                @Html.Raw(item.Knowledge_Base_Description)
                                            </p>

                                            <a href="@Url.Action("KnowledgeBaseDetails","Home",new { url = item.Knowledge_Base_Url_Link })" class="btn btn-outline-danger btn-sm align-self-start mt-3">Learn More →</a>
                                        </div>

                                    </div>
                                </div>
                            }
                        }
                    }
                </div>
                <hr class="my-5" />
            }
        }

    </div>
</section>

